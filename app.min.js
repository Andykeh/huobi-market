$(function(){function e(e){var o=e.payload;"btccny"==o.symbolId?(m=o.priceNew,a.html(o.priceNew),r.html(o.priceHigh),n.html(o.priceLow),t(a.parent(),o.priceNew,w[0]),w[0]=o.priceNew):(_=o.priceNew,p.html(o.priceNew),s.html(o.priceHigh),g.html(o.priceLow),t(p.parent(),o.priceNew,w[1]),w[1]=o.priceNew),(localStorage.Btc_price||localStorage.Ltc_price)&&c()}function t(e,t,c){t>c&&""!==c&&c>0?e.removeClass(S[0]).addClass(S[1]):c>t&&""!==c&&c>0&&e.removeClass(S[1]).addClass(S[0])}function c(){var e,t,c,o,i;e="btc_48.png",t="ltc_48.png",c=/(..)(:..)(:..)/.exec(new Date),o=c[1]%12||12,i=c[1]<12?"上午":"下午",localStorage.Btc_price&&0!==m&&m>=Number(localStorage.Btc_price)&&d[0]&&(new Notification("比特币价格预警",{icon:e,body:"BTC价格已经达到"+m+"\n 时间"+o+c[2]+c[3]+" "+i}),d[0]=!1,setTimeout(function(){d[0]=!0},localStorage.Time_out)),localStorage.Ltc_price&&0!==_&&_>=Number(localStorage.Ltc_price)&&d[1]&&(new Notification("莱特币价格预警",{icon:t,body:"LTC价格已经达到"+_+"\n 时间"+o+c[2]+c[3]+" "+i}),d[1]=!1,setTimeout(function(){d[1]=!0},localStorage.Time_out))}var o,i,l,a,r,n,p,s,g,m,_,u,h,w,S,b,v,d,f;u=$("#option_btn"),h=$("#app_option"),i="http://hq.huobi.com",a=$("#btc_info"),r=$("#btc_high"),n=$("#btc_low"),m=0,p=$("#ltc_info"),s=$("#ltc_high"),g=$("#ltc_low"),_=0,l="",w=[],S=["rise","declining"],b=$("#btc_not"),v=$("#ltc_not"),d=[!0,!0],f=$("#time_out");var T=function(e){return{msg:{msgType:"reqMsgSubscribe",version:l||1,requestIndex:1*new Date,symbolList:{marketOverview:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketOverview"}};o=io.connect(i),o.emit("request",T("btccny").msg),o.emit("request",T("ltccny").msg),o.on("request",e),o.on("message",e),b.change(function(){localStorage.Btc_price=$(this).val()}),v.change(function(){localStorage.Ltc_price=$(this).val()}),localStorage.Btc_price&&b.val(localStorage.Btc_price),localStorage.Ltc_price&&v.val(localStorage.Ltc_price),f.change(function(){localStorage.Time_out=1e3*$(this).val()}),localStorage.Time_out>0?f.val(localStorage.Time_out/1e3):localStorage.Time_out=1e3*f.val(),u.click(function(){h.is(":hidden")?h.slideDown():h.slideUp()})});